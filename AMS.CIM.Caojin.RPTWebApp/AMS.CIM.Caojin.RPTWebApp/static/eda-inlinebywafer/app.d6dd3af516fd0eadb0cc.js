webpackJsonp([1],{"5rzY":function(t,e){},C5bi:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),o=a("zL8q"),r=a.n(o),s=(a("tvR6"),{render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]});var l=a("VU/8")({name:"App"},s,!1,function(t){a("C5bi")},null,null).exports,i=a("/ocq"),d={name:"baseLayout",data:function(){return{date:new Date}},computed:{dateStr:function(){var t=this.date.getFullYear(),e=this.date.getMonth()+1;e=e<10?"0"+e:e;var a=this.date.getDate();a=a<10?"0"+a:a;var n=this.date.getDay();switch(n){case 1:n="星期一";break;case 2:n="星期二";break;case 3:n="星期三";break;case 4:n="星期四";break;case 5:n="星期五";break;case 6:n="星期六";break;case 0:n="星期日"}var o=this.date.getHours(),r=this.date.getMinutes(),s=this.date.getSeconds();return t+"年"+e+"月"+a+"日 "+n+" "+(o=o<10?"0"+o:o)+":"+(r=r<10?"0"+r:r)+":"+(s=s<10?"0"+s:s)}}},u={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"gray-bg",staticStyle:{"min-height":"100%"}},[e("div",{staticClass:"wrapper wrapper-content animated fadeInRight"},[this._t("default")],2),this._v(" "),e("div",{staticClass:"footer fixed"},[this._m(0),this._v(" "),e("div",[e("strong",[this._v(this._s(this.dateStr))])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"pull-right"},[e("strong",[this._v("@AMS Report")])])}]},c=a("VU/8")(d,u,!1,null,null,null).exports,p={name:"baseContainer",props:{headerHeight:{type:String,default:function(){return"600"}}},data:function(){return{activeNames:["1"]}}},v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",[a("el-header",{attrs:{height:t.headerHeight}},[a("el-collapse",{model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"查询条件",name:"1"}},[t._t("header")],2)],1)],1),t._v(" "),a("el-main",[t._t("main")],2)],1)},staticRenderFns:[]},_=a("VU/8")(p,v,!1,null,null,null).exports,m={name:"baseHeaderCard",props:{coder:{type:String,default:function(){return"曹晋（0279）"}},user:{type:String,default:function(){return"陈舒（0353）"}},project:{type:String,required:!0}},data:function(){return{count:0}},mounted:function(){var t=this.URL_PREFIX+"/Common/GetClickCount",e={title:this.project},a=this;this.$http.post(t,e).then(function(t){t.data.success?a.count=t.data.count:console.log(t.data.msg)}).catch(function(t){console.log(t)})}},h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[a("div",[t._v("开发者："+t._s(t.coder))]),t._v(" "),a("div",[t._v("需求者："+t._s(t.user))]),t._v(" "),a("div",[t._v("Cilck Count: "+t._s(t.count))]),t._v(" "),t._t("default")],2)},staticRenderFns:[]},f=a("VU/8")(m,h,!1,null,null,null).exports,C=this,x={name:"baseTableContainer",props:{title:{type:String,default:function(){return""}},useExcel:{type:Boolean,default:function(){return!0}},excelStyle:{type:String},tableData:{},fileName:{type:String,default:"RPT.xls"},excelBtnLabel:{type:String,default:"Excel"}},data:function(){return{}},computed:{show:function(){return""!=C.title}},methods:{table2Excel:function(){var t="";this.excelStyle&&(t=this.excelStyle);var e='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel"xmlns="http://www.w3.org/TR/REC-html40"><head>\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e'+t+"</head><body>{table}</body></html>",a=this.$refs.dlink,n={worksheet:"Worksheet",table:this.$refs.table.innerHTML};a.href="data:application/vnd.ms-excel;base64,"+base64(format(e,n)),a.download=this.fileName,a.click()},table2Html:function(){var t=this.$refs.table,e=(window.getComputedStyle(t),document.createElement("div"));e.innerHTML=t.outerHTML,console.log(e)}}},D={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ibox"},[t.show?a("div",{staticClass:"ibox-title"},[a("label",[t._v(t._s(t.title))])]):t._e(),t._v(" "),a("div",{staticClass:"ibox-content"},[a("el-row",{attrs:{type:"flex",justify:"end"}},[t._t("left"),t._v(" "),t.useExcel?a("div",{staticClass:"downloadBtn"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-download",size:"mini"},on:{click:t.table2Excel}},[t._v(t._s(t.excelBtnLabel))])],1):t._e(),t._v(" "),t._t("right")],2),t._v(" "),a("div",{ref:"table",staticClass:"table-div"},[t._t("table",null,{datas:t.tableData})],2),t._v(" "),a("a",{ref:"dlink",staticStyle:{display:"none"}})],1)])},staticRenderFns:[]};var I={name:"EDALotsInlineByWafer",components:{BaseLayout:c,BaseContainer:_,BaseHeaderCard:f,BaseTableContainer:a("VU/8")(x,D,!1,function(t){a("5rzY")},null,null).exports},data:function(){return{manualInput:!0,manualPeriod:"",manualLotQueryStr:"",autoPeriod:"",loading:!1,prodCategory:"",prod:"",specItem:[],measItem:[],lotID:[],waferID:[],manualTableData:[],manualTitle:"",mSites:[],aSites:[],autoTableData:[],autoTitle:"",allProdCategory:["Production","Dummy","Process Monitor","Equipment Monitor"],allProds:[],allWaferID:[]}},computed:{avaProds:function(){var t=this;if(!this.prodCategory)return this.allProds;var e=this.allProds.filter(function(e){return e.Prod_Category_ID===t.prodCategory});return e.find(function(e){return e.ProdSpec_ID===t.prod})||(this.prod=""),e},showTable:function(){return this.manualInput?""!==this.manualTitle:""!==this.autoTitle},prodFilteredData:function(){var t=this,e=this.autoTableData;return null!==this.prod&&""!==this.prod&&(e=e.filter(function(e){return e.ProdID===t.prod})),e},specFilteredData:function(){var t=this,e=this.prodFilteredData;return this.specItem.length>0&&(e=e.filter(function(e){return t.specItem.indexOf(e.SpecItem)>-1})),e},measFilteredData:function(){var t=this,e=this.specFilteredData;return this.measItem.length>0&&(e=e.filter(function(e){return t.measItem.indexOf(e.MeasItem)>-1})),e},allSpecItem:function(){var t=this.prodFilteredData.map(function(t){return t.SpecItem});return t.distinct(),t.sort(),this.specItem=[],t},allMeasItem:function(){var t=this.specFilteredData.map(function(t){return t.MeasItem});return t.distinct(),t.sort(),this.measItem=[],t},allLotId:function(){var t=this.measFilteredData.map(function(t){return t.LotID});return t.distinct(),t.sort(),this.lotID=[],t},filteredAutoTableData:function(){var t=this,e=this.measFilteredData;if(this.lotID.length>0&&(e=e.filter(function(e){return t.lotID.indexOf(e.LotID)>-1})),this.waferID.length>0&&(e=e.filter(function(e){return t.waferID.indexOf(e.WaferID)>-1})),e.length>0){this.aSites=[];for(var a=e[0].SiteValue.length,n=function(a){e.map(function(t){return t.SiteValue[a]}).find(function(t){return null!==t})&&t.aSites.push(a+1)},o=0;o<a;o++)n(o)}return e}},methods:{handleManualQueryClick:function(){var t=this;if(!this.manualLotQueryStr)return this.$message.error("请输入需要查询的LotID");var e=this.manualPeriod,a=void 0,n=void 0;if(e)a=getDateStr(e[0]),n=getDateStr(e[1]);else{n=getCurDate();var o=new Date;o.setDate(o.getDate()-10),a=getDateStr(o)}var r={lot:this.manualLotQueryStr,startDate:a,endDate:n};this.queryFun(r,function(e){t.manualTitle="Lot:"+e.data.LotStr+";From:"+e.data.StartDate+" To:"+e.data.EndDate,t.manualTableData=e.data.RowEntities,t.mSites=[],t.manualTableData.map(function(t){var e=t.WaferID.split("."),a=e.length;2==e[a-1].length&&(t.WaferID="#"+e[a-1])});for(var a=e.data.RowEntities[0].SiteValue.length,n=function(a){e.data.RowEntities.map(function(t){return t.SiteValue[a]}).find(function(t){return null!==t})&&t.mSites.push(a+1)},o=0;o<a;o++)n(o)})},handleAutoQueryClick:function(){var t=this,e=this.autoPeriod,a=void 0,n=void 0;if(e)a=getDateStr(e[0]),n=getDateStr(e[1]);else{n=getCurDate();var o=new Date;o.setDate(o.getDate()-10),a=getDateStr(o)}var r={lot:"*",startDate:a,endDate:n};this.queryFun(r,function(e){t.autoTitle="From:"+e.data.StartDate+" To:"+e.data.EndDate,t.autoTableData=e.data.RowEntities,t.autoTableData.map(function(t){var e=t.WaferID.split("."),a=e.length;2==e[a-1].length&&(t.WaferID="#"+e[a-1])})})},queryFun:function(t,e){var a=this.URL_PREFIX+"/ReqRpt209/ManualQuery",n=this;this.loading=!0,this.$http.post(a,t).then(function(t){if(t.data.success)e(t);else{if("没有数据"==t.data.msg)return n.$message.error("没有查询到符合条件的数据");console.log(t.data.msg),n.$message.error("服务端程序异常")}n.loading=!1}).catch(function(t){console.log(t),n.$message.error("网络异常"),n.loading=!1})},handleClear:function(){this.prodCategory="",this.prod="",this.specItem=[],this.measItem=[],this.lotID=[],this.waferID=[]}},created:function(){var t=this.URL_PREFIX+"/ReqRpt209/GetProdList";this.loading=!0;for(var e=1;e<26;e++)this.allWaferID.push(e<10?"#0"+e:"#"+e);var a=this;this.$http.post(t).then(function(t){t.data.success?a.allProds=t.data.prodList:(a.$message.error("网页初始化失败"),console.log(t.data.msg)),a.loading=!1}).catch(function(t){a.$message.error("网页初始化失败"),console.log(t),a.loading=!1}),Array.prototype.distinct=function(){for(var t=[],e=0;e<this.length;e++)for(var a=e+1;a<this.length;)this[e]===this[a]?t.push(this.splice(a,1)[0]):a++;return t}}},g={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("BaseLayout",[a("BaseContainer",[a("template",{slot:"header"},[a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{lg:5,md:12}},[a("div",[a("el-switch",{attrs:{"active-text":"Manual","inactive-text":"Auto","active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.manualInput,callback:function(e){t.manualInput=e},expression:"manualInput"}})],1)]),t._v(" "),a("el-col",{attrs:{lg:12,md:12}},[t.manualInput?a("div",{staticClass:"eda-inline-manual"},[a("el-input",{attrs:{placeholder:"请输入LotID，支持逗号隔开，*模糊匹配"},model:{value:t.manualLotQueryStr,callback:function(e){t.manualLotQueryStr=e},expression:"manualLotQueryStr"}}),t._v(" "),a("div",{staticClass:"eda-inline-date-query"},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"~","start-placeholder":"开始日期,00:00:00","end-placeholder":"结束日期,23:59:59"},model:{value:t.manualPeriod,callback:function(e){t.manualPeriod=e},expression:"manualPeriod"}}),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search",loading:t.loading},on:{click:t.handleManualQueryClick}})],1)],1):a("div",{staticClass:"eda-inline-auto"},[a("div",{staticClass:"eda-inline-date-query"},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"~","start-placeholder":"开始日期,00:00:00","end-placeholder":"结束日期,23:59:59"},model:{value:t.autoPeriod,callback:function(e){t.autoPeriod=e},expression:"autoPeriod"}}),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search",loading:t.loading},on:{click:t.handleAutoQueryClick}}),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.handleClear}},[t._v("重置")])],1),t._v(" "),a("div",{staticClass:"eda-inline-select-group"},[a("el-select",{attrs:{placeholder:"请选择Product Category",clearable:""},model:{value:t.prodCategory,callback:function(e){t.prodCategory=e},expression:"prodCategory"}},t._l(t.allProdCategory,function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}),1),t._v(" "),a("el-select",{attrs:{placeholder:"请选择Product",clearable:""},model:{value:t.prod,callback:function(e){t.prod=e},expression:"prod"}},t._l(t.avaProds,function(t){return a("el-option",{key:t.ProdSpec_ID,attrs:{value:t.ProdSpec_ID}})}),1),t._v(" "),a("el-select",{attrs:{multiple:"",placeholder:"请选择Spec Item"},model:{value:t.specItem,callback:function(e){t.specItem=e},expression:"specItem"}},t._l(t.allSpecItem,function(t,e){return a("el-option",{key:e,attrs:{value:t}})}),1),t._v(" "),a("el-select",{attrs:{multiple:"",placeholder:"请选择Meas Item"},model:{value:t.measItem,callback:function(e){t.measItem=e},expression:"measItem"}},t._l(t.allMeasItem,function(t,e){return a("el-option",{key:e,attrs:{value:t}})}),1),t._v(" "),a("el-select",{attrs:{multiple:"",placeholder:"请选择LotID"},model:{value:t.lotID,callback:function(e){t.lotID=e},expression:"lotID"}},t._l(t.allLotId,function(t,e){return a("el-option",{key:e,attrs:{value:t}})}),1),t._v(" "),a("el-select",{attrs:{multiple:"",placeholder:"请选择WaferID"},model:{value:t.waferID,callback:function(e){t.waferID=e},expression:"waferID"}},t._l(t.allWaferID,function(t){return a("el-option",{key:t,attrs:{value:t}})}),1)],1)])]),t._v(" "),a("el-col",{attrs:{lg:4,offset:2,md:8,sm:12}},[a("BaseHeaderCard",{attrs:{project:"RPT000209",user:"姜兆涛（0102）"}})],1)],1)],1),t._v(" "),a("template",{slot:"main"},[t.manualInput&&t.showTable?a("BaseTableContainer",{attrs:{title:t.manualTitle,tableData:t.manualTableData,fileName:"EDA_LotsInlineByWafer.xls"},scopedSlots:t._u([{key:"table",fn:function(e){return a("div",{staticClass:"eda-table-div"},[a("table",{staticClass:"table table-responsive table-bordered table-hover"},[a("thead",[a("tr",[a("th",[t._v("No")]),t._v(" "),a("th",[t._v("Lot ID")]),t._v(" "),a("th",[t._v("Foup ID")]),t._v(" "),a("th",[t._v("Qty")]),t._v(" "),a("th",[t._v("Route ID")]),t._v(" "),a("th",[t._v("Oper ID")]),t._v(" "),a("th",[t._v("Eqp Type")]),t._v(" "),a("th",[t._v("Eqp ID")]),t._v(" "),a("th",[t._v("Recipe ID")]),t._v(" "),a("th",[t._v("Oper No.")]),t._v(" "),a("th",[t._v("Spec Item")]),t._v(" "),a("th",[t._v("Meas Item.")]),t._v(" "),a("th",[t._v("Wafer ID")]),t._v(" "),t._l(t.mSites,function(e){return a("th",{key:"h"+e,domProps:{textContent:t._s("site"+e)}})}),t._v(" "),a("th",[t._v("Wafer Mean")]),t._v(" "),a("th",[t._v("LS")]),t._v(" "),a("th",[t._v("LC")]),t._v(" "),a("th",[t._v("Target")]),t._v(" "),a("th",[t._v("UC")]),t._v(" "),a("th",[t._v("US")]),t._v(" "),a("th",[t._v("Mean Range")]),t._v(" "),a("th",[t._v("Range UC")]),t._v(" "),a("th",[t._v("Oper Time")])],2)]),t._v(" "),a("tbody",t._l(e.datas,function(e,n){return a("tr",{key:n},[a("td",{domProps:{textContent:t._s(n+1)}}),t._v(" "),a("td",{domProps:{textContent:t._s(e.LotID)}}),t._v(" "),a("td",{domProps:{textContent:t._s(e.FoupID)}}),t._v(" "),a("td",{domProps:{textContent:t._s(e.Qty)}}),t._v(" "),a("td",{domProps:{textContent:t._s(e.RouteID)}}),t._v(" "),a("td",{domProps:{textContent:t._s(e.OperID)}}),t._v(" "),a("td",{domProps:{textContent:t._s(e.EqpType)}}),t._v(" "),a("td",{domProps:{textContent:t._s(e.EqpID)}}),t._v(" "),a("td",{domProps:{textContent:t._s(e.RecipeID)}}),t._v(" "),a("td",{domProps:{textContent:t._s(e.OpeNo)}}),t._v(" "),a("td",{domProps:{textContent:t._s(e.SpecItem)}}),t._v(" "),a("td",{domProps:{textContent:t._s(e.MeasItem)}}),t._v(" "),a("td",{domProps:{textContent:t._s(e.WaferID)}}),t._v(" "),t._l(t.mSites,function(n){return a("td",{key:"s"+n,class:e.SiteValue[n-1]<e.LS&&null!==e.LS||e.SiteValue[n-1]>e.US&&null!==e.US?"eda-red":"",domProps:{textContent:t._s(e.SiteValue[n-1])}})}),t._v(" "),a("td",{class:e.WaferMean<e.LC&&null!==e.LC||e.WaferMean>e.UC&&null!==e.UC?"eda-red":"",domProps:{textContent:t._s(e.WaferMean)}}),t._v(" "),a("td",{domProps:{textContent:t._s(e.LS)}}),t._v(" "),a("td",{domProps:{textContent:t._s(e.LC)}}),t._v(" "),a("td",{domProps:{textContent:t._s(e.Target)}}),t._v(" "),a("td",{domProps:{textContent:t._s(e.UC)}}),t._v(" "),a("td",{domProps:{textContent:t._s(e.US)}}),t._v(" "),a("td",{domProps:{textContent:t._s(e.MeanRange)}}),t._v(" "),a("td",{domProps:{textContent:t._s(e.RangeUC)}}),t._v(" "),a("td",{domProps:{textContent:t._s(e.OpeTime)}})],2)}),0)])])}}],null,!1,3810394798)}):t._e(),t._v(" "),!t.manualInput&&t.showTable?a("BaseTableContainer",{attrs:{title:t.autoTitle,tableData:t.filteredAutoTableData,fileName:"EDA_LotsInlineByWafer.xls"},scopedSlots:t._u([{key:"table",fn:function(e){return a("div",{staticClass:"eda-table-div"},[a("table",{staticClass:"table table-responsive table-bordered table-hover"},[a("thead",[a("tr",[a("th",[t._v("No")]),t._v(" "),a("th",[t._v("Lot ID")]),t._v(" "),a("th",[t._v("Foup ID")]),t._v(" "),a("th",[t._v("Qty")]),t._v(" "),a("th",[t._v("Route ID")]),t._v(" "),a("th",[t._v("Oper ID")]),t._v(" "),a("th",[t._v("Eqp Type")]),t._v(" "),a("th",[t._v("Eqp ID")]),t._v(" "),a("th",[t._v("Recipe ID")]),t._v(" "),a("th",[t._v("Oper No.")]),t._v(" "),a("th",[t._v("Spec Item")]),t._v(" "),a("th",[t._v("Meas Item.")]),t._v(" "),a("th",[t._v("Wafer ID")]),t._v(" "),t._l(t.aSites,function(e){return a("th",{key:"h"+e,domProps:{textContent:t._s("site"+e)}})}),t._v(" "),a("th",[t._v("Wafer Mean")]),t._v(" "),a("th",[t._v("LS")]),t._v(" "),a("th",[t._v("LC")]),t._v(" "),a("th",[t._v("Target")]),t._v(" "),a("th",[t._v("UC")]),t._v(" "),a("th",[t._v("US")]),t._v(" "),a("th",[t._v("Oper Time")])],2)]),t._v(" "),a("tbody",t._l(e.datas,function(e,n){return a("tr",{key:n},[a("td",{domProps:{textContent:t._s(n+1)}}),t._v(" "),a("td",{domProps:{textContent:t._s(e.LotID)}}),t._v(" "),a("td",{domProps:{textContent:t._s(e.FoupID)}}),t._v(" "),a("td",{domProps:{textContent:t._s(e.Qty)}}),t._v(" "),a("td",{domProps:{textContent:t._s(e.RouteID)}}),t._v(" "),a("td",{domProps:{textContent:t._s(e.OperID)}}),t._v(" "),a("td",{domProps:{textContent:t._s(e.EqpType)}}),t._v(" "),a("td",{domProps:{textContent:t._s(e.EqpID)}}),t._v(" "),a("td",{domProps:{textContent:t._s(e.RecipeID)}}),t._v(" "),a("td",{domProps:{textContent:t._s(e.OpeNo)}}),t._v(" "),a("td",{domProps:{textContent:t._s(e.SpecItem)}}),t._v(" "),a("td",{domProps:{textContent:t._s(e.MeasItem)}}),t._v(" "),a("td",{domProps:{textContent:t._s(e.WaferID)}}),t._v(" "),t._l(t.aSites,function(n){return a("td",{key:"s"+n,class:e.SiteValue[n-1]<e.LS&&null!==e.LS||e.SiteValue[n-1]>e.US&&null!==e.US?"eda-red":"",domProps:{textContent:t._s(e.SiteValue[n-1])}})}),t._v(" "),a("td",{class:e.WaferMean<e.LC&&null!==e.LC||e.WaferMean>e.UC&&null!==e.UC?"eda-red":"",domProps:{textContent:t._s(e.WaferMean)}}),t._v(" "),a("td",{domProps:{textContent:t._s(e.LS)}}),t._v(" "),a("td",{domProps:{textContent:t._s(e.LC)}}),t._v(" "),a("td",{domProps:{textContent:t._s(e.Target)}}),t._v(" "),a("td",{domProps:{textContent:t._s(e.UC)}}),t._v(" "),a("td",{domProps:{textContent:t._s(e.US)}}),t._v(" "),a("td",{domProps:{textContent:t._s(e.OpeTime)}})],2)}),0)])])}}],null,!1,1734130542)}):t._e()],1)],2)],1)},staticRenderFns:[]};var y=a("VU/8")(I,g,!1,function(t){a("aVmz")},null,null).exports;n.default.use(i.a);var b=new i.a({routes:[{path:"/",name:"HelloWorld",component:y}]}),S=a("mtWM"),P=a.n(S);n.default.config.productionTip=!1,n.default.use(r.a),n.default.prototype.$http=P.a,n.default.prototype.URL_PREFIX="..",new n.default({el:"#app",router:b,components:{App:l},template:"<App/>"})},aVmz:function(t,e){},tvR6:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.d6dd3af516fd0eadb0cc.js.map