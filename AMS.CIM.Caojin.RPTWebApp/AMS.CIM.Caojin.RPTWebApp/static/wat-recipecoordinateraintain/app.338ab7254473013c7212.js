webpackJsonp([1],{C5bi:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),l=a("zL8q"),r=a.n(l),s=(a("tvR6"),{render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]});var i=a("VU/8")({name:"App"},s,!1,function(t){a("C5bi")},null,null).exports,o=a("/ocq"),c=a("mvHQ"),u=a.n(c),d={data:function(){return{tableData:[],count:"",rname:"",isvisable:!1,queryData:[],loading:!1,addvisable:!1,queryvisable:!1,owner:""}},methods:{clear:function(){this.rname="",this.count=""},clear2:function(){for(var t=0;t<this.tableData.length;t++)this.tableData[t].COORDINATEX="",this.tableData[t].COORDINATEY=""},createtable:function(){var t=this.URL_PREFIX+"/ReqRpt216/checkrecipeisexist",e=0;if($.ajax({url:t,type:"post",contentType:"application/x-www-form-urlencoded; ",dataType:"json",data:{RecipeName:this.rname},success:function(t,a){"exist"==t&&(alert("该RecipeName已经存在，请重新输入"),e=1)},error:function(t,e){alert("系统错误，请重新输入或联系IT")},async:!1}),0==e){if(""!=this.rname&&null!=this.rname)if(/^[1-9]\d*$/.test(this.count))if(""!=this.owner){for(var a=new Array(Number(this.count)),n=0;n<Number(this.count);n++){var l=new Object;l.RECIPENAME=this.rname,l.SITENAME="Site"+(n+1),l.OWNER=this.owner,l.CREATETIME="",l.COORDINATEX="",l.COORDINATEY="",a[n]=l}this.tableData=a,this.addvisable=!0,this.queryvisable=!1}else alert("Owner请输入工号");else alert("Site No 请输入数字");else alert("请先输入RecipeName再查询")}},savedata:function(){if(0!=this.tableData.length){var t=this.URL_PREFIX+"/ReqRpt216/savecoordinate",e=new Date,a=e.getFullYear(),n=e.getMonth(),l=e.getDate(),r=e.getHours(),s=e.getMinutes(),i=e.getSeconds();r<10&&(r="0"+r),s<10&&(s="0"+s),i<10&&(i="0"+i);for(var o=a+"-"+(n+1)+"-"+l+" "+r+":"+s+":"+i,c=0;c<this.tableData.length;c++){if(""==this.tableData[c].OWNER||""==this.tableData[c].COORDINATEX||""==this.tableData[c].COORDINATEY)return void alert("有栏位的值未输入");this.tableData[c].CREATETIME=o,this.tableData[c].COORDINATEX=Number(this.tableData[c].COORDINATEX),this.tableData[c].COORDINATEY=Number(this.tableData[c].COORDINATEY)}var u={savelist:this.tableData};$.ajax({url:t,type:"post",contentType:"application/x-www-form-urlencoded; ",dataType:"json",data:u,success:function(t,e){"exist"==t?alert("该RecipeName已经存在，请重新输入"):alert("添加成功")},error:function(t,e){alert("系统错误，请重新输入或联系IT")},async:!1})}else alert("请先添加数据再进行保存！")},querytable:function(){var t=this;if(""!=t.rname){t.loading=!0;var e=this.URL_PREFIX+"/ReqRpt216/querycoordinate";$.ajax({url:e,type:"post",contentType:"application/x-www-form-urlencoded; ",dataType:"json",data:{RecipeName:t.rname},success:function(e,a){"nodata"==e?alert("该RecipeName没有Coordinate，请先添加再查询"):(t.queryData=JSON.parse(e),t.queryvisable=!0)},error:function(t,e){alert("系统错误，请重新输入或联系IT")},async:!1}),t.addvisable=!1,t.loading=!1}else alert("请先输入RecipeName再查询")},changedata:function(){var t=new Date,e=t.getFullYear(),a=t.getMonth(),n=t.getDate(),l=t.getHours(),r=t.getMinutes(),s=t.getSeconds();l<10&&(l="0"+l),r<10&&(r="0"+r),s<10&&(s="0"+s);for(var i=e+"-"+(a+1)+"-"+n+" "+l+":"+r+":"+s,o=this.URL_PREFIX+"/ReqRpt216/changecoordinate",c=new Array,u=0;u<this.queryData.length;u++){if(null==this.queryData[u].COORDINATEX&&""!=this.queryData[u].COORDINATEY&&null!=this.queryData[u].COORDINATEY||null==this.queryData[u].COORDINATEY&&""!=this.queryData[u].COORDINATEX&&null!=this.queryData[u].COORDINATEX)return void alert("x坐标和y坐标同时需要输入或者不输入");if(""==this.queryData[u].COORDINATEX&&""!=this.queryData[u].COORDINATEY&&null!=this.queryData[u].COORDINATEY||""==this.queryData[u].COORDINATEY&&""!=this.queryData[u].COORDINATEX&&null!=this.queryData[u].COORDINATEX)return void alert("x坐标和y坐标同时需要输入或者不输入");if(""!=this.queryData[u].COORDINATEX&&null!=this.queryData[u].COORDINATEX&&(this.queryData[u].CREATETIME=i,c.push(this.queryData[u])),""==this.queryData[u].COORDINATE){if(""==this.queryData[u].COORDINATEX||null==this.queryData[u].COORDINATEX)return void alert("新增的Site需要输入xy坐标");if(""==this.queryData[u].COORDINATEX||null==this.queryData[u].COORDINATEX)return void alert("新增的Site需要输入xy坐标")}}if(0!=c.length){var d={changelist:c};$.ajax({url:o,type:"post",contentType:"application/x-www-form-urlencoded; ",dataType:"json",data:d,success:function(t,e){"success"==t?alert("修改成功"):alert("操作失败")},error:function(t,e){alert("系统错误，请重新输入或联系IT")}})}else alert("请先输入想要修改的值，再修改！")},handleDelete:function(t,e){var a=this.URL_PREFIX+"/ReqRpt216/deletecoordinate";$.ajax({url:a,type:"post",contentType:"application/x-www-form-urlencoded; ",dataType:"json",data:{RECIPENAME:e.RECIPENAME,SITENAME:e.SITENAME},success:function(t,e){"success"==t?alert("删除成功"):alert("操作失败")},error:function(t,e){alert("系统错误，请重新操作或联系IT")},async:!1});for(var n=this.queryData.length;n>0;n--)if(this.queryData[n-1].SITENAME==e.SITENAME)return void this.queryData.splice(n-1,1)},handleAdd:function(t,e){var a=JSON.parse(u()(this.queryData[Number(t)]));a.SITENAME="Site"+(t+2),console.log(a.SITENAME),a.COORDINATE="",this.queryData.push(a)}}},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("\r\n    Recipe ID :"),a("el-input",{attrs:{id:"in1"},model:{value:t.rname,callback:function(e){t.rname=e},expression:"rname"}})],1)]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("\r\n    Site No: "),a("el-input",{attrs:{id:"in2"},model:{value:t.count,callback:function(e){t.count=e},expression:"count"}})],1)]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("\r\n    Owner: "),a("el-input",{attrs:{id:"in3"},model:{value:t.owner,callback:function(e){t.owner=e},expression:"owner"}})],1)])],1),t._v(" "),a("el-row",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content  "})]),t._v(" "),a("el-col",{attrs:{span:2}},[a("div",{staticClass:"grid-content  "},[a("el-button",{attrs:{type:"info"},on:{click:t.createtable}},[t._v("add")])],1)]),t._v(" "),a("el-col",{attrs:{span:2}},[a("div",{staticClass:"grid-content  "},[a("el-button",{attrs:{type:"info"},on:{click:t.querytable}},[t._v("query")])],1)]),t._v(" "),a("el-col",{attrs:{span:2}},[a("div",{staticClass:"grid-content  "},[a("el-button",{attrs:{type:"info"},on:{click:t.clear}},[t._v("clear")])],1)])],1),t._v(" "),a("div",[a("el-table",{staticStyle:{width:"65%"},attrs:{id:"savetable",data:t.tableData}},[a("el-table-column",{attrs:{label:"Recipe Name",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.RECIPENAME))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"Site",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.SITENAME))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"OWNER",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{placeholder:"请输入工号"},model:{value:e.row.OWNER,callback:function(a){t.$set(e.row,"OWNER",a)},expression:"scope.row.OWNER"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{width:"200",label:"X"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{placeholder:"请输入X坐标"},model:{value:e.row.COORDINATEX,callback:function(a){t.$set(e.row,"COORDINATEX",a)},expression:"scope.row.COORDINATEX"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{width:"200",label:"Y"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{placeholder:"请输入X坐标"},model:{value:e.row.COORDINATEY,callback:function(a){t.$set(e.row,"COORDINATEY",a)},expression:"scope.row.COORDINATEY"}})]}}])})],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content  "})]),t._v(" "),a("el-col",{attrs:{span:2}},[a("div",{staticClass:"grid-content  "},[a("el-button",{attrs:{type:"info"},on:{click:t.savedata}},[t._v("save")])],1)]),t._v(" "),a("el-col",{attrs:{span:2}},[a("div",{staticClass:"grid-content  "},[a("el-button",{attrs:{type:"info"},on:{click:t.clear2}},[t._v("clear")])],1)])],1)],1),t._v(" "),a("div",[a("el-table",{staticStyle:{width:"80%"},attrs:{id:"queryData",data:t.queryData}},[a("el-table-column",{attrs:{label:"Recipe Name",width:"200",prop:"RECIPENAME"}}),t._v(" "),a("el-table-column",{attrs:{label:"Site",width:"100",prop:"SITENAME"}}),t._v(" "),a("el-table-column",{attrs:{label:"COORDINATE",width:"120",prop:"COORDINATE"}}),t._v(" "),a("el-table-column",{attrs:{width:"120",label:"Owner"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{placeholder:"请输入工号"},model:{value:e.row.OWNER,callback:function(a){t.$set(e.row,"OWNER",a)},expression:"scope.row.OWNER"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{width:"200",label:"Time",prop:"CREATETIME"}}),t._v(" "),a("el-table-column",{attrs:{width:"100",label:"X"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{placeholder:"请输入X坐标"},model:{value:e.row.COORDINATEX,callback:function(a){t.$set(e.row,"COORDINATEX",a)},expression:"scope.row.COORDINATEX"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{width:"100",label:"Y"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{placeholder:"请输入y坐标"},model:{value:e.row.COORDINATEY,callback:function(a){t.$set(e.row,"COORDINATEY",a)},expression:"scope.row.COORDINATEY"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return e.$index+1==t.queryData.length?[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleDelete(e.$index,e.row)}}},[t._v("删除")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(a){return t.handleAdd(e.$index,e.row)}}},[t._v("添加")])]:void 0}}],null,!0)})],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content  "})]),t._v(" "),a("el-col",{attrs:{span:2}},[a("div",{staticClass:"grid-content  "},[a("el-button",{attrs:{type:"info"},on:{click:t.changedata}},[t._v("change")])],1)])],1)],1)],1)},staticRenderFns:[]};var v=a("VU/8")(d,p,!1,function(t){a("wofj")},null,null).exports;n.default.use(o.a);var f=new o.a({routes:[{path:"/",name:"HelloWorld2",component:v}]}),h=a("mtWM"),E=a.n(h);n.default.config.productionTip=!1,n.default.use(r.a),n.default.prototype.$http=E.a,n.default.prototype.URL_PREFIX="..",new n.default({el:"#app",router:f,components:{App:i},template:"<App/>"})},tvR6:function(t,e){},wofj:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.338ab7254473013c7212.js.map