webpackJsonp([1],{"5rzY":function(t,e){},C5bi:function(t,e){},GRNL:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),i=n("zL8q"),s=n.n(i),r=(n("tvR6"),{render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]});var o=n("VU/8")({name:"App"},r,!1,function(t){n("C5bi")},null,null).exports,l=n("/ocq"),c={name:"baseLayout",data:function(){return{date:new Date}},computed:{dateStr:function(){var t=this.date.getFullYear(),e=this.date.getMonth()+1;e=e<10?"0"+e:e;var n=this.date.getDate();n=n<10?"0"+n:n;var a=this.date.getDay();switch(a){case 1:a="星期一";break;case 2:a="星期二";break;case 3:a="星期三";break;case 4:a="星期四";break;case 5:a="星期五";break;case 6:a="星期六";break;case 0:a="星期日"}var i=this.date.getHours(),s=this.date.getMinutes(),r=this.date.getSeconds();return t+"年"+e+"月"+n+"日 "+a+" "+(i=i<10?"0"+i:i)+":"+(s=s<10?"0"+s:s)+":"+(r=r<10?"0"+r:r)}}},d={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"gray-bg",staticStyle:{"min-height":"100%"}},[e("div",{staticClass:"wrapper wrapper-content animated fadeInRight"},[this._t("default")],2),this._v(" "),e("div",{staticClass:"footer fixed"},[this._m(0),this._v(" "),e("div",[e("strong",[this._v(this._s(this.dateStr))])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"pull-right"},[e("strong",[this._v("@AMS Report")])])}]},u=n("VU/8")(c,d,!1,null,null,null).exports,f={name:"baseContainer",props:{headerHeight:{type:String,default:function(){return"600"}}},data:function(){return{activeNames:["1"]}}},h={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",[n("el-header",{attrs:{height:t.headerHeight}},[n("el-collapse",{model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[n("el-collapse-item",{attrs:{title:"查询条件",name:"1"}},[t._t("header")],2)],1)],1),t._v(" "),n("el-main",[t._t("main")],2)],1)},staticRenderFns:[]},p=n("VU/8")(f,h,!1,null,null,null).exports,m={name:"baseHeaderCard",props:{coder:{type:String,default:function(){return"曹晋（0279）"}},user:{type:String,default:function(){return"陈舒（0353）"}},project:{type:String,required:!0}},data:function(){return{count:0}},mounted:function(){var t=this.URL_PREFIX+"/Common/GetClickCount",e={title:this.project},n=this;this.$http.post(t,e).then(function(t){t.data.success?n.count=t.data.count:console.log(t.data.msg)}).catch(function(t){console.log(t)})}},v={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[n("div",[t._v("开发者："+t._s(t.coder))]),t._v(" "),n("div",[t._v("需求者："+t._s(t.user))]),t._v(" "),n("div",[t._v("Cilck Count: "+t._s(t.count))]),t._v(" "),t._t("default")],2)},staticRenderFns:[]},_=n("VU/8")(m,v,!1,null,null,null).exports,b=this,x={name:"baseTableContainer",props:{title:{type:String,default:function(){return""}},useExcel:{type:Boolean,default:function(){return!0}},excelStyle:{type:String},tableData:{},fileName:{type:String,default:"RPT.xls"},excelBtnLabel:{type:String,default:"Excel"}},data:function(){return{}},computed:{show:function(){return""!=b.title}},methods:{table2Excel:function(){var t="";this.excelStyle&&(t=this.excelStyle);var e='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel"xmlns="http://www.w3.org/TR/REC-html40"><head>\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e'+t+"</head><body>{table}</body></html>",n=this.$refs.dlink,a={worksheet:"Worksheet",table:this.$refs.table.innerHTML};n.href="data:application/vnd.ms-excel;base64,"+base64(format(e,a)),n.download=this.fileName,n.click()},table2Html:function(){var t=this.$refs.table,e=(window.getComputedStyle(t),document.createElement("div"));e.innerHTML=t.outerHTML,console.log(e)}}},g={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ibox"},[t.show?n("div",{staticClass:"ibox-title"},[n("label",[t._v(t._s(t.title))])]):t._e(),t._v(" "),n("div",{staticClass:"ibox-content"},[n("el-row",{attrs:{type:"flex",justify:"end"}},[t._t("left"),t._v(" "),t.useExcel?n("div",{staticClass:"downloadBtn"},[n("el-button",{attrs:{type:"primary",icon:"el-icon-download",size:"mini"},on:{click:t.table2Excel}},[t._v(t._s(t.excelBtnLabel))])],1):t._e(),t._v(" "),t._t("right")],2),t._v(" "),n("div",{ref:"table",staticClass:"table-div"},[t._t("table",null,{datas:t.tableData})],2),t._v(" "),n("a",{ref:"dlink",staticStyle:{display:"none"}})],1)])},staticRenderFns:[]};var y=n("VU/8")(x,g,!1,function(t){n("5rzY")},null,null).exports,C=n("5eDb"),k=n.n(C),w=(n("Aenb"),{name:"",components:{BaseLayout:u,BaseContainer:p,BaseHeaderCard:_,BaseTableContainer:y,Editor:n("q47d").a},data:function(){return{tinymceHtml:"",init:{language_url:"/static/tinymce/zh_CN.js",language:"zh_CN",skin_url:"/static/tinymce/skins/ui/oxide",height:300,toolbar:" undo redo",menubar:!1,branding:!1},tableData:[]}},computed:{},methods:{handleSubmitClick:function(){this.tableData=[];for(var t=this.$refs.targetDiv.getElementsByTagName("p"),e=[],n=0;n<t.length;n++)e.push(t[n].innerText);for(;e.length>0;)this.shiftArryToTargetLine(e),this.getOneRowData(e);console.log(this.tableData)},shiftArryToTargetLine:function(t){for(;t.length>0&&!(t[0].indexOf("Command Acknowledge : (from Host)")>-1);)t.shift()},getOneRowData:function(t){var e=[],n="";for(t.length>0&&(n=t[0].indexOf("Slot Transfer")>-1?"Slot Transfer":"Box Check In",e.push(t[0]),t.shift());t.length>0;){if(t[0].indexOf(n)>-1&&t[0].indexOf("completed")>-1){e.push(t[0]),t.shift();break}e.push(t[0]),t.shift()}if(e.length>0){var a=e[0].split(".")[0],i=e[e.length-1].split(".")[0],s=this.getDuration(a,i),r="Slot Transfer"===n?"out":"in",o=e.find(function(t){return t.indexOf("RFID Reader")>-1&&t.indexOf("Move "+("in"===r?"In":"Out")+" Event")>-1&&t.indexOf(!1)}),l="",c="";if(o){var d=o.split("Position:")[1].split(" , Tag Data: ");l=d[0],c=d[1].replace(")","")}this.tableData.push({start:a,end:i,duration:s,category:r,postion:l,tag:c})}},getDuration:function(t,e){var n=t.split(":"),a=e.split(":");return 3600*(parseInt(a[0])-parseInt(n[0]))+60*(parseInt(a[1])-parseInt(n[1]))+(parseInt(a[2])-parseInt(n[2]))}},mounted:function(){k.a.init({})},created:function(){}}),E={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("BaseLayout",[n("BaseContainer",[n("template",{slot:"header"},[n("el-row",{attrs:{type:"flex",justify:"end"}},[n("el-button",{attrs:{type:"primary",size:"mini",disabled:!t.tinymceHtml},on:{click:t.handleSubmitClick}},[t._v("Submit")])],1),t._v(" "),n("editor",{attrs:{id:"tinymce",init:t.init},model:{value:t.tinymceHtml,callback:function(e){t.tinymceHtml=e},expression:"tinymceHtml"}})],1),t._v(" "),n("template",{slot:"main"},[n("div",{ref:"targetDiv",staticClass:"aio-hidden",domProps:{innerHTML:t._s(t.tinymceHtml)}}),t._v(" "),n("BaseTableContainer",{attrs:{tableData:t.tableData,fileName:"StokerEventReport.xls"},scopedSlots:t._u([{key:"table",fn:function(e){return n("table",{staticClass:"table table-responsive table-bordered table-hover"},[n("thead",[n("tr",[n("th",[t._v("任务开始时间")]),t._v(" "),n("th",[t._v("任务结束时间")]),t._v(" "),n("th",[t._v("耗时(s)")]),t._v(" "),n("th",[t._v("任务类型")]),t._v(" "),n("th",[t._v("Position")]),t._v(" "),n("th",[t._v("Tag Data")])])]),t._v(" "),n("tbody",t._l(e.datas,function(e,a){return n("tr",{key:a},[n("td",{domProps:{textContent:t._s(e.start)}}),t._v(" "),n("td",{domProps:{textContent:t._s(e.end)}}),t._v(" "),n("td",{domProps:{textContent:t._s(e.duration)}}),t._v(" "),n("td",{domProps:{textContent:t._s(e.category)}}),t._v(" "),n("td",{domProps:{textContent:t._s(e.postion)}}),t._v(" "),n("td",{domProps:{textContent:t._s(e.tag)}})])}),0)])}}])})],1)],2)],1)},staticRenderFns:[]};var S=n("VU/8")(w,E,!1,function(t){n("GRNL")},null,null).exports;a.default.use(l.a);var R=new l.a({routes:[{path:"/",name:"HelloWorld",component:S}]}),D=n("mtWM"),T=n.n(D);a.default.config.productionTip=!1,a.default.use(s.a),a.default.prototype.$http=T.a,a.default.prototype.URL_PREFIX="..",new a.default({el:"#app",router:R,components:{App:o},template:"<App/>"})},tvR6:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.4628a32081ed672e4045.js.map