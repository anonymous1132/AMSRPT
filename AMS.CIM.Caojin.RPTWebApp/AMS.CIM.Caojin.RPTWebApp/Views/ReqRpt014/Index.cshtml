
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_LayoutRptBootStrap.cshtml";
}

<link href="~/Content/plugins/jQueryUI/jquery-ui-1.10.4.custom.min.css" rel="stylesheet">
<link href="~/Content/plugins/chosen/bootstrap-chosen.css" rel="stylesheet">
<link href="~/Content/plugins/jqGrid/ui.jqgrid.css" rel="stylesheet">
<link href="~/Content/plugins/iCheck/custom.css" rel="stylesheet">
<link href="~/Content/plugins/awesome-bootstrap-checkbox/awesome-bootstrap-checkbox.css" rel="stylesheet">
<link href="~/Content/plugins/datapicker/datepicker3.css" rel="stylesheet">
<link href="~/Content/animate.css" rel="stylesheet">
<link href="~/Content/style.css" rel="stylesheet">

<!-- Chosen -->
<script src="~/Scripts/plugins/chosen/chosen.jquery.js"></script>
<!-- Data picker -->
<script src="~/Scripts/plugins/datapicker/bootstrap-datepicker.js"></script>

<script src="~/Scripts/ams.commontool.js"></script>

<div class="row white-bg border-bottom ">
    <div class="col-lg-12">
        <div class="ibox float-e-margins">
            <div class="ibox-title">
                <h5>查询条件</h5>
                <div class="ibox-tools">
                    <a class="collapse-link">
                        <i class="fa fa-chevron-up"></i>
                    </a>
                </div>
            </div>
            <div class="ibox-content">
                <div class="row">
                    <div class="col-lg-5">
                        <label class="font-normal">ProductID：</label><br />
                        <div>
                            <select data-placeholder="请选择ProductID，不选视为全部" class="chosen-select" multiple style="width:350px;" tabindex="4">
                                <option value="">Select</option>
                                <option value="United States">United States</option>
                                <option value="United Kingdom">United Kingdom</option>
                                <option value="Afghanistan">Afghanistan</option>
                                <option value="Aland Islands">Aland Islands</option>
                                <option value="Albania">Albania</option>
                                <option value="Algeria">Algeria</option>
                                <option value="American Samoa">American Samoa</option>
                                <option value="Andorra">Andorra</option>
                                <option value="Angola">Angola</option>
                                <option value="Anguilla">Anguilla</option>
                                <option value="Antarctica">Antarctica</option>
                                <option value="Antigua and Barbuda">Antigua and Barbuda</option>
                                <option value="Argentina">Argentina</option>
                                <option value="Armenia">Armenia</option>
                                <option value="Aruba">Aruba</option>
                                <option value="Australia">Australia</option>
                                <option value="Austria">Austria</option>
                                <option value="Azerbaijan">Azerbaijan</option>
                                <option value="Bahamas">Bahamas</option>
                                <option value="Bahrain">Bahrain</option>
                                <option value="Bangladesh">Bangladesh</option>
                                <option value="Barbados">Barbados</option>
                                <option value="Belarus">Belarus</option>
                                <option value="Belgium">Belgium</option>
                                <option value="Belize">Belize</option>
                                <option value="Benin">Benin</option>
                                <option value="Bermuda">Bermuda</option>
                                <option value="Bhutan">Bhutan</option>
                                <option value="Bolivia, Plurinational State of">Bolivia, Plurinational State of</option>
                                <option value="Bonaire, Sint Eustatius and Saba">Bonaire, Sint Eustatius and Saba</option>
                                <option value="Bosnia and Herzegovina">Bosnia and Herzegovina</option>
                            </select>
                        </div>
                    </div>
                   
                    <div class="col-sm-2 " style="margin-top:5px">
                        <br/>
                        <p>  <button type="button" class="btn btn-outline btn-primary">Query</button></p>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-3">
                        <label class="font-normal">DateRange</label>
                        <div class="input-daterange input-group" id="datepicker">
                            <input type="date" class="input-sm form-control" name="start" id="start-date" />
                            <span class="input-group-addon"></span>
                            <select class="form-control input-sm" id="start-category" style="width:80px">
                                <option value="day">08:00</option>
                                <option value="day">20:00</option>
                            </select>
                            <span class="input-group-addon">
                                至
                            </span>
                            <input type="date" class="input-sm form-control" name="end" id="end-date" />
                            <span class="input-group-addon"></span>
                            <select class="form-control input-sm" id="end-category" style="width:80px">
                                <option value="day">08:00</option>
                                <option value="day">20:00</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-sm-3" style="float:right">
                        <br/><p style="font-weight:200"><small>开发者：曹晋（0279）<br />需求者：陈舒（0353）</small></p>
                    </div>
                </div>
                </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-lg-12">
        <div class="ibox float-e-margins">

            <ul id="myTab" class="nav nav-tabs">
                <li class="active">
                    <a href="#department" data-toggle="tab">
                        Department
                    </a>
                </li>
                <li><a href="#product" data-toggle="tab">ProductID</a></li>

            </ul>

            <div id="myTabContent" class="tab-content">
                <div class="tab-pane fade in active" id="department">
                    <div class="ibox-title">
                        <h5>Hold Rate Top3 by Department</h5>
                    </div>
                    <div class="ibox-content">
                        <div class="jqGrid_wrapper" id="jqGrid_wrapper1">
                            <table id="table_list_1"></table>
                            <div id="pager_list_1"></div>
                        </div>
                    </div>
                </div>
                <div class="tab-pane fade" id="product">
                    <div class="ibox-title">
                        <h5>Hold Rate Top3 by Product</h5>
                    </div>
                    <div class="ibox-content">
                        <div class="jqGrid_wrapper" id="jqGrid_wrapper2">
                            <table id="table_list_2"></table>
                            <div id="pager_list_2"></div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>




<script>
    function jqGridAutoResponse() {
        var width1 = $('#jqGrid_wrapper1').width();
        var width2 = $('#jqGrid_wrapper2').width();
        var width = width1 > width2 ? width1 : width2;
        $('#table_list_1').setGridWidth(width);
        $('#table_list_2').setGridWidth(width);
    }

    $(document).ready(function () {
        // Examle data for jqGrid
        var mydata = [
            { id: "1", invdate: "2010-05-24", name: "test", note: "note", tax: "10.00", total: "2111.00" },
            { id: "2", invdate: "2010-05-25", name: "test2", note: "note2", tax: "20.00", total: "320.00" },
            { id: "3", invdate: "2007-09-01", name: "test3", note: "note3", tax: "30.00", total: "430.00" },
            { id: "4", invdate: "2007-10-04", name: "test", note: "note", tax: "10.00", total: "210.00" },
            { id: "5", invdate: "2007-10-05", name: "test2", note: "note2", tax: "20.00", total: "320.00" },
            { id: "6", invdate: "2007-09-06", name: "test3", note: "note3", tax: "30.00", total: "430.00" },
            { id: "7", invdate: "2007-10-04", name: "test", note: "note", tax: "10.00", total: "210.00" },
            { id: "8", invdate: "2007-10-03", name: "test2", note: "note2", amount: "300.00", tax: "21.00", total: "320.00" },
            { id: "9", invdate: "2007-09-01", name: "test3", note: "note3", amount: "400.00", tax: "30.00", total: "430.00" },
            { id: "11", invdate: "2007-10-01", name: "test", note: "note", amount: "200.00", tax: "10.00", total: "210.00" },
            { id: "12", invdate: "2007-10-02", name: "test2", note: "note2", amount: "300.00", tax: "20.00", total: "320.00" },
            { id: "13", invdate: "2007-09-01", name: "test3", note: "note3", amount: "400.00", tax: "30.00", total: "430.00" },
            { id: "14", invdate: "2007-10-04", name: "test", note: "note", amount: "200.00", tax: "10.00", total: "210.00" },
            { id: "15", invdate: "2007-10-05", name: "test2", note: "note2", amount: "300.00", tax: "20.00", total: "320.00" },
            { id: "16", invdate: "2007-09-06", name: "test3", note: "note3", amount: "400.00", tax: "30.00", total: "430.00" },
            { id: "17", invdate: "2007-10-04", name: "test", note: "note", amount: "200.00", tax: "10.00", total: "210.00" },
            { id: "18", invdate: "2007-10-03", name: "test2", note: "note2", amount: "300.00", tax: "20.00", total: "320.00" },
            { id: "19", invdate: "2007-09-01", name: "test3", note: "note3", amount: "400.00", tax: "30.00", total: "430.00" },
            { id: "21", invdate: "2007-10-01", name: "test", note: "note", amount: "200.00", tax: "10.00", total: "210.00" },
            { id: "22", invdate: "2007-10-02", name: "test2", note: "note2", amount: "300.00", tax: "20.00", total: "320.00" },
            { id: "23", invdate: "2007-09-01", name: "test3", note: "note3", amount: "400.00", tax: "30.00", total: "430.00" },
            { id: "24", invdate: "2007-10-04", name: "test", note: "note", amount: "200.00", tax: "10.00", total: "210.00" },
            { id: "25", invdate: "2007-10-05", name: "test2", note: "note2", amount: "300.00", tax: "20.00", total: "320.00" },
            { id: "26", invdate: "2007-09-06", name: "test3", note: "note3", amount: "400.00", tax: "30.00", total: "430.00" },
            { id: "27", invdate: "2007-10-04", name: "test", note: "note", amount: "200.00", tax: "10.00", total: "210.00" },
            { id: "28", invdate: "2007-10-03", name: "test2", note: "note2", amount: "300.00", tax: "20.00", total: "320.00" },
            { id: "29", invdate: "2007-09-01", name: "test3", note: "note3", amount: "400.00", tax: "30.00", total: "430.00" }
        ];

        $("#start-date").val(today());

        $("#end-date").val(today());

        // Configuration for jqGrid Example 1
        $("#table_list_1").jqGrid({
            data: mydata,
            datatype: "local",
            height: 300,
            autowidth: true,
            shrinkToFit: true,
            rowNum: 14,
            rowList: [10, 20, 30],
            colNames: ['投票号', '数据', '客户端', '合计', '税收', '总额', '记录'],
            colModel: [
                { name: 'id', index: 'id', width: 60, sorttype: "int" },
                { name: 'invdate', index: 'invdate', width: 90, sorttype: "date", formatter: "date" },
                { name: 'name', index: 'name', width: 100 },
                { name: 'amount', index: 'amount', width: 80, align: "right", sorttype: "float", formatter: "number" },
                { name: 'tax', index: 'tax', width: 80, align: "right", sorttype: "float" },
                { name: 'total', index: 'total', width: 80, align: "right", sorttype: "float" },
                { name: 'note', index: 'note', width: 150, sortable: false }
            ],
            pager: "#pager_list_1",
            viewrecords: true,
            caption: "示例 jqGrid 1",
            hidegrid: false
        });

        // Configuration for jqGrid Example 2
        $("#table_list_2").jqGrid({
            data: mydata,
            datatype: "local",
            height: 500,
            autowidth: true,
            shrinkToFit: true,
            rowNum: 20,
            rowList: [10, 20, 30],
            colNames: ['投票号', '数据', '客户端', '合计', '税收', '总额', '记录'],
            colModel: [
                { name: 'id', index: 'id', editable: true, width: 60, sorttype: "int", search: true },
                { name: 'invdate', index: 'invdate', editable: true, width: 90, sorttype: "date", formatter: "date" },
                { name: 'name', index: 'name', editable: true, width: 100 },
                { name: 'amount', index: 'amount', editable: true, width: 80, align: "right", sorttype: "float", formatter: "number" },
                { name: 'tax', index: 'tax', editable: true, width: 80, align: "right", sorttype: "float" },
                { name: 'total', index: 'total', editable: true, width: 80, align: "right", sorttype: "float" },
                { name: 'note', index: 'note', editable: true, width: 100, sortable: false }
            ],
            pager: "#pager_list_2",
            viewrecords: true,
            caption: "示例 jqGrid 2",
            add: true,
            edit: true,
            addtext: 'Add',
            edittext: 'Edit',
            hidegrid: false
        });

        // Add selection
        $("#table_list_2").setSelection(4, true);


        // Setup buttons
        $("#table_list_2").jqGrid('navGrid', '#pager_list_2',
            { edit: true, add: true, del: true, search: true },
            { height: 200, reloadAfterSubmit: true }
        );

        //Add responsive to jqGrid
        $(window).bind('resize', jqGridAutoResponse);

        $('.chosen-select').chosen({ width: "100%" });


        jqGridAutoResponse();

        $('#data-range .input-daterange').datepicker({
            keyboardNavigation: false,
            forceParse: false,
            autoclose: true
        });
        //setTimeout(function () {
        //    $('.wrapper-content').removeClass('animated fadeInRight');
        //}, 700);
    });

</script>
